<div class="center">
    <mat-card class="signup-container">

        <mat-progress-bar *ngIf="loading" class="spinner" mode="indeterminate"></mat-progress-bar>

        <img src="../../assets/imgs/crm-logo.png" alt="CRM logo">
        <h1>Sign up</h1>

        <form (ngSubmit)="signUp()" [formGroup]="signupForm">

            <div class="form-group">
                <mat-form-field class="input-outline" appearance="outline">
                    <mat-label type="email" for="email" class="label">Email</mat-label>
                    <input matInput type="email" id="email" formControlName="email" required>
                </mat-form-field>

                <div class="input-feedback"
                    *ngIf="signupForm.get('email')?.hasError('required') && signupForm.get('email')?.touched">
                    Email is required.
                </div>
                <div class="input-feedback"
                    *ngIf="signupForm.get('password')?.hasError('invalidPassword') && signupForm.get('password')?.touched">
                    Password must contain '@' and end with e.g. '.com'.
                </div>
            </div>

            <div class="form-group">
                <mat-form-field class="input-outline" appearance="outline">
                    <mat-label type="password" for="password" class="label">Password</mat-label>
                    <input matInput type="password" id="password" formControlName="password" required>
                </mat-form-field>

                <div class="input-feedback"
                    *ngIf="signupForm.get('password')?.hasError('required') && signupForm.get('password')?.touched">
                    Passwort is required.
                </div>
                <div class="input-feedback"
                    *ngIf="signupForm?.get('password')?.hasError('minlength') && signupForm.get('password')?.touched">
                    Password must be at least {{ signupForm.get('password')?.errors?.['minlength']?.requiredLength }}
                    characters long.
                </div>
            </div>

            <div class="form-group">
                <mat-form-field class="input-outline" appearance="outline">
                    <mat-label type="password" for="confirmPassword" class="label">Confirm Password</mat-label>
                    <input matInput type="password" id="confirmPassword" formControlName="confirmPassword" required>
                </mat-form-field>

                <div class="input-feedback"
                    *ngIf="signupForm.get('confirmPassword')?.hasError('required') && signupForm.get('confirmPassword')?.touched">
                    Confirm Password is required.
                </div>
                <div class="input-feedback"
                    *ngIf="signupForm.hasError('passwordMismatch') && signupForm.get('confirmPassword')?.touched">
                    Passwords do not match.
                </div>
            </div>

            <button type="submit" [disabled]="signupForm.invalid">Sign up</button>
        </form>

    </mat-card>
</div>